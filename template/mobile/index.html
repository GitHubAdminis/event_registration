<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"/>
    <title>{$activity_data['title']}</title>
    <!--标准mui.css-->
    <link rel="stylesheet" href="{$_W['siteroot']}/addons/event_registration/css/mui.min.css">
    <!--App自定义的css-->
    <link rel="stylesheet" type="text/css" href="{$_W['siteroot']}/addons/event_registration/css/app.css"/>
    <!--<link href="../css/mui.picker.css" rel="stylesheet" />
    <link href="../css/mui.dtpicker.css" rel="stylesheet" />-->
    <link rel="stylesheet" type="text/css" href="{$_W['siteroot']}/addons/event_registration/css/mui.picker.min.css"/>
    <style>
        .mui-control-content {
            background-color: white;
            min-height: 215px;
        }

        .mui-control-content .mui-loading {
            margin-top: 50px;
        }

        .slider-bar {
            display: flex;
            justify-content: space-around;
            height: 55px;
            line-height: 65px;
            background-color: white;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1;
        }

        .slider-bar .control-item {

        }

        .slider-bar .active {
            border-bottom: 2px solid;
        }

        .slider-group {
            margin-top: 70px;
        }

        .activity-list {

        }

        .activity-list .list-cell {
            margin: 20px;
            background-color: white;
        }

        .activity-list .list-cell .banner {
            width: 100%;
            height: 200px;
            border-radius: 10px 10px 0 0;
        }

        .activity-list .list-cell .title {
            position: relative;
            top: -35px;
            font-size: 20px;
            width: 320px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            left: 20px;
            color: white;
        }

        .activity-list .list-cell .date-time {
            position: relative;
            top: -15px;
            display: flex;
            align-items: center;
            margin: 0 20px;
            padding-bottom: 10px;
            font-size: 19px;
            color: rgb(94, 94, 94);
            border-bottom: 2px solid rgb(246, 246, 246);
        }

        .activity-list .list-cell .line-img {
            width: 30px;
            height: 30px;
            margin-right: 10px;
        }

        .activity-list .list-cell .apply-people-number {
            position: relative;
            top: -7px;
            display: flex;
            align-items: center;
            margin: 0 20px;
            padding-bottom: 10px;
            font-size: 19px;
            color: rgb(94, 94, 94);
        }

        .add-btn {
            font-size: 34px;
            width: 50px;
            height: 50px;
            background-color: yellow;
            line-height: 50px;
            text-align: center;
            border-radius: 50%;
            position: fixed;
            bottom: 30px;
            right: 30px;
        }
    </style>
</head>

<body>
<div id="app" class="">

    <div class="slider-bar">
        <div class="control-item" :class="{ active : clickSwitchValue === index }" v-for="(item, index) in control_item"
             v-on:click="sliderBarClick(item, index)">
            {{ item }}
        </div>
        <!--  <div class="control-item"></div>-->
    </div>
    <div class="slider-group">
        <div v-if="clickSwitchValue === 0">
            <div class="activity-list">
                <a href="{php echo $this->createMobileUrl('details');}">
                    <div class="list-cell">
                        <img class="banner" src="{$_W['siteroot']}/addons/event_registration/images/cbd.jpg"/>
                        <div class="title">{$activity_data_apply['title']}</div>
                        <div class="date-time">
                            <img class="date-time-img line-img"
                                 src="{$_W['siteroot']}/addons/event_registration/images/time.png"/>
                            {$activity_data_apply['date']} {$activity_data_apply['time']}
                        </div>
                        <div class="apply-people-number">
                            <img class="people-number-img line-img"
                                 src="{$_W['siteroot']}/addons/event_registration/images/location.png"/>
                            2 人报名
                        </div>
                    </div>
                </a>
                <div class="list-cell">
                    <img class="banner" src="{$_W['siteroot']}/addons/event_registration/images/cbd.jpg"/>
                    <div class="title">{$activity_data_apply['title']}</div>
                    <div class="date-time">
                        <img class="date-time-img line-img"
                             src="{$_W['siteroot']}/addons/event_registration/images/time.png"/>
                        {$activity_data_apply['date']} {$activity_data_apply['time']}
                    </div>
                    <div class="apply-people-number">
                        <img class="people-number-img line-img"
                             src="{$_W['siteroot']}/addons/event_registration/images/location.png"/>
                        2 人报名
                    </div>
                </div>
                <div class="list-cell">
                    <img class="banner" src="{$_W['siteroot']}/addons/event_registration/images/cbd.jpg"/>
                    <div class="title">{$activity_data_apply['title']}</div>
                    <div class="date-time">
                        <img class="date-time-img line-img"
                             src="{$_W['siteroot']}/addons/event_registration/images/time.png"/>
                        {$activity_data_apply['date']} {$activity_data_apply['time']}
                    </div>
                    <div class="apply-people-number">
                        <img class="people-number-img line-img"
                             src="{$_W['siteroot']}/addons/event_registration/images/location.png"/>
                        3 人报名
                    </div>
                </div>
            </div>
        </div>
        <div v-if="clickSwitchValue === 1">
            <div class="activity-list">
                <div class="list-cell">
                    <img class="banner" src="{$_W['siteroot']}/addons/event_registration/images/cbd.jpg"/>
                    <div class="title">{$activity_data_join['title']}</div>
                    <div class="date-time">
                        <img class="date-time-img line-img"
                             src="{$_W['siteroot']}/addons/event_registration/images/time.png"/>
                        {$activity_data_join['date']} {$activity_data_join['time']}
                    </div>
                    <div class="apply-people-number">
                        <img class="people-number-img line-img"
                             src="{$_W['siteroot']}/addons/event_registration/images/location.png"/>
                        2 人报名
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<div class="mui-content">
    <!--<div id="slider" class="mui-slider">
        <div id="sliderSegmentedControl" class="mui-slider-indicator mui-segmented-control mui-segmented-control-inverted">
            <a class="mui-control-item" href="#item1mobile">
                待办公文
            </a>
            <a class="mui-control-item" href="#item2mobile">
                已办公文
            </a>
            &lt;!&ndash;<a class="mui-control-item" href="#item3mobile">
                全部公文
            </a>&ndash;&gt;
        </div>
        <div id="sliderProgressBar" class="mui-slider-progress-bar mui-col-xs-6"></div>
        <div class="mui-slider-group">
            <div id="item1mobile" class="mui-slider-item mui-control-content mui-active">
                <div id="scroll1" class="mui-scroll-wrapper">
                    <div class="mui-scroll">
                        <ul class="mui-table-view">
                            <li class="mui-table-view-cell">
                                第一个选项卡子项-1
                            </li>
                            <li class="mui-table-view-cell">
                                第一个选项卡子项-2
                            </li>
                            <li class="mui-table-view-cell">
                                第一个选项卡子项-3
                            </li>
                            <li class="mui-table-view-cell">
                                第一个选项卡子项-4
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div id="item2mobile" class="mui-slider-item mui-control-content">
                <div id="scroll2" class="mui-scroll-wrapper">
                    <div class="mui-scroll">
                        <div class="mui-loading">
                            <div class="mui-spinner">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>-->

    <div class="add-btn" onclick="add_btn()">+</div>

</div>

<script src="{$_W['siteroot']}/addons/event_registration/js/mui.min.js"></script>
<!--<script src="../js/mui.picker.js"></script>
<script src="../js/mui.dtpicker.js"></script>-->
<script src="{$_W['siteroot']}/addons/event_registration/js/mui.picker.min.js"></script>
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>

<!-- 开发环境版本，包含了有帮助的命令行警告 -->
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

<script>
    new Vue({
        el: '#app',
        data: {
            message: 'Hello Vue!',
            clickSwitchValue: 0,
            control_item: ['已报名', '我发布']
        },
        methods: {
            sliderBarClick: function (item, index) {
                let that = this;
                console.log(item, index);
                that.clickSwitchValue = index;
            }
        }

    })
</script>

<script>
    function add_btn() {
        console.log('add_btn');

        // window.location.href = "{php echo $this->createMobileUrl('getPay');}"
        window.location.href = "{php echo $this->createMobileUrl('create_event');}"
    }

    getUserInfo(function (userInfo) {
        console.log(userInfo.sessionid)
    })

</script>
<script>
    mui.init({
        swipeBack: false
    });
    (function ($) {
        $('.mui-scroll-wrapper').scroll({
            indicators: true //是否显示滚动条
        });
        var html2 = '<ul class="mui-table-view"><li class="mui-table-view-cell">第二个选项卡子项-1</li><li class="mui-table-view-cell">第二个选项卡子项-2</li><li class="mui-table-view-cell">第二个选项卡子项-3</li><li class="mui-table-view-cell">第二个选项卡子项-4</li><li class="mui-table-view-cell">第二个选项卡子项-5</li></ul>';
        // var html3 = '<ul class="mui-table-view"><li class="mui-table-view-cell">第三个选项卡子项-1</li><li class="mui-table-view-cell">第三个选项卡子项-2</li><li class="mui-table-view-cell">第三个选项卡子项-3</li><li class="mui-table-view-cell">第三个选项卡子项-4</li><li class="mui-table-view-cell">第三个选项卡子项-5</li></ul>';
        var item2 = document.getElementById('item2mobile');
        // var item3 = document.getElementById('item3mobile');
        document.getElementById('slider').addEventListener('slide', function (e) {
            if (e.detail.slideNumber === 1) {
                if (item2.querySelector('.mui-loading')) {
                    setTimeout(function () {
                        item2.querySelector('.mui-scroll').innerHTML = html2;
                    }, 500);
                }
            }
            /* else if (e.detail.slideNumber === 2) {
                 if (item3.querySelector('.mui-loading')) {
                     setTimeout(function() {
                         item3.querySelector('.mui-scroll').innerHTML = html3;
                     }, 500);
                 }
             }*/
        });
        var sliderSegmentedControl = document.getElementById('sliderSegmentedControl');
        $('.mui-input-group').on('change', 'input', function () {
            if (this.checked) {
                sliderSegmentedControl.className = 'mui-slider-indicator mui-segmented-control mui-segmented-control-inverted mui-segmented-control-' + this.value;
                //force repaint
                sliderProgressBar.setAttribute('style', sliderProgressBar.getAttribute('style'));
            }
        });
    })(mui);
</script>

</body>

</html>
